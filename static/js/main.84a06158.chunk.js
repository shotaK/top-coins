(this["webpackJsonpfrontend-engineer-challenge-top-coins"]=this["webpackJsonpfrontend-engineer-challenge-top-coins"]||[]).push([[0],{267:function(e,t,n){e.exports=n(495)},495:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=n(44),l=n(71),u=n(232),m=n(544),s=n(139),p=n(30),d={en:{translation:{nav:{home:"Home",liquidity:"Liquidity"},coinAmount:{selectLabel:"Max number of coins:",default:"default",allCoinsLabel:"all"},liquidityChart:{xAxisName:"Market Cap",yAxisName:"Volume",zAxis:"Price change"},noResults:"No results available",loading:"Loading...",marketOverview:{rank:"Rank",name:"Name",price:"Price",priceChange24h:"Price Change (24h)",marketCap:"Market Cap",volume24h:"Volume (24h)"}}}};s.a.use(p.a).init({resources:d,lng:"en",interpolation:{escapeValue:!1}});s.a;var E,h=n(76),g=n(216),f=n(29),b=n(217),v=[10,50],O=function(e){return"/cryptocurrency/listings/latest?convert=USD".concat(-1!==e?"&limit=".concat(e):"")},C=Object(f.fromJS)({pending:!1,coinsList:{},limit:-1}),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.limit,r=t.coinsList,c=t.error;switch(n){case"SELECT_COINS_LIMIT":return e.set("limit",Object(f.fromJS)(a));case"GET_COINS_REQUEST":return e.set("pending",!0);case"GET_COINS_SUCCESS":return e.set("coinsList",Object(f.fromJS)(r)).set("pending",!1);case"GET_COINS_FAILURE":return e.set("error",Object(f.fromJS)(c)).set("pending",!1);default:return e}},_=n(24),w=Object(_.a)(),S=[g.a,Object(l.routerMiddleware)(w)],j=Object(h.c)(h.a.apply(void 0,S),"undefined"===typeof window.__REDUX_DEVTOOLS_EXTENSION__?function(e){return e}:window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),k=Object(h.d)((E=w,Object(b.combineReducers)({router:Object(l.connectRouter)(E),topCoins:y})),Object(f.Map)(),j),N=n(543),L=n(37),I=n(72),x=n.n(I),T=n(39),q=n.n(T),U=n(20),A=n.n(U),D=n(219),R=n.n(D),F="".concat("https://pro-api.coinmarketcap.com","/v1"),M="GET",X=function(e,t,n){var a,r,c,i;return q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a={"Content-Type":"application/json","X-CMC_PRO_API_KEY":"838c05d1-dc8f-49fc-92a8-c0f0f9dab942"},r=n&&JSON.stringify(n),c="".concat("https://cors-anywhere.herokuapp.com/").concat(F).concat(t),o.next=5,q.a.awrap(R()({method:e,url:c,headers:a,data:r}));case 5:return i=o.sent,o.abrupt("return",i);case 7:case"end":return o.stop()}}))},z=n(81),G=n(137),J=n.n(G),P=n(40),V=n.n(P),B=function(e){return e.getIn(["topCoins"])},K=Object(z.b)({limit:function(e){return e.getIn(["topCoins","limit"])}}),W=Object(z.b)({topCoins:B}),$=Object(z.b)({coinsList:function(e){return e.getIn(["topCoins","coinsList"])}}),Q=Object(z.a)(B,(function(e){if(0===e.get("coinsList").size)return e;var t=e.getIn(["coinsList","data"]).map((function(e){var t=e.getIn(["quote","USD"]),n=t.get("price"),a=t.get("percent_change_24h");if(!V()(n)||!V()(a))return e;var r=new J.a(n),c=new J.a(a),i=Number(r.times(c).div(100).toFixed(2));return e.setIn(["quote","USD","money_change_24h"],i)}));return e.setIn(["coinsList","data"],t)})),H=Object(z.b)({topCoins:Q}),Y=function(e){return{type:"GET_COINS_FAILURE",error:e}},Z=function(e){return function(t,n){var a,r,c;return q.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"GET_COINS_REQUEST"}),n.prev=1,n.next=4,q.a.awrap(X(M,O(e),""));case 4:a=n.sent,r=A()(a,"data"),c=A()(a,"data.status.error_message"),A()(a,"data")?t({type:"GET_COINS_SUCCESS",coinsList:r}):t(Y(c?{error:c}:{error:"Oops! Something went wrong!"})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),t(Y({error:"Oops! Something went wrong!"}));case 13:case"end":return n.stop()}}),null,null,[[1,10]])}},ee=function(){return function(e,t){var n,a,r;return q.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:n=K(t()),a=n.limit,r=$(t()),0===r.coinsList.size&&e(Z(a));case 3:case"end":return c.stop()}}))}},te=n(220),ne=n(536),ae=n(538),re=n(537),ce=n(534),ie=n(497),oe=n(535),le=n(533),ue=n(6),me=Object(ue.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(le.a),se=Object(ue.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}}))(ce.a),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!V()(e))return 0;var n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t});return n.format(e)},de=function(e){var t=e.coin,n=A()(t,"quote.USD",{}),a=A()(n,"price"),c=A()(n,"percent_change_24h"),i=A()(n,"market_cap"),o=A()(n,"volume_24h");return r.a.createElement(se,null,r.a.createElement(me,{component:"th",scope:"coin"},t.cmc_rank),r.a.createElement(me,{align:"right"},t.name),r.a.createElement(me,{align:"right"},V()(a)?pe(a):"-"),r.a.createElement(me,{align:"right"},V()(c)?"".concat(Number(c).toFixed(2),"%"):"-"),r.a.createElement(me,{align:"right"},V()(i)?pe(i,0):"-"),r.a.createElement(me,{align:"right"},V()(o)?pe(o,0):"-"))},Ee=function(e){var t=e.pending,n=e.error,a=e.coinsList,c=e.children,i=Object(p.b)().t;return t?r.a.createElement("p",null,i("loading")):n?n.error:A()(a,"data",[]).length>0?c:r.a.createElement("p",null,i("noResults"))},he=Object(te.a)((function(e){return{container:{marginBottom:e.spacing(3)},root:{width:"100%",overflowX:"auto"},table:{minWidth:700}}})),ge=function(e){var t=e.topCoins,n=e.getCoins,c=he(),i=Object(p.b)().t,o=A()(t,"coinsList.data",[]);return Object(a.useEffect)((function(){n()}),[n]),r.a.createElement(oe.a,{className:c.container},r.a.createElement(Ee,t,r.a.createElement(ie.a,{className:c.root},r.a.createElement(ne.a,{className:c.table,"aria-label":"customized table"},r.a.createElement(re.a,null,r.a.createElement(ce.a,null,r.a.createElement(me,null,i("marketOverview.rank")),r.a.createElement(me,{align:"right"},i("marketOverview.name")),r.a.createElement(me,{align:"right"},i("marketOverview.price")),r.a.createElement(me,{align:"right"},i("marketOverview.priceChange24h")),r.a.createElement(me,{align:"right"},i("marketOverview.marketCap")),r.a.createElement(me,{align:"right"},i("marketOverview.volume24h")))),r.a.createElement(ae.a,null,o.map((function(e){return r.a.createElement(de,{key:e.name,coin:e})})))))))},fe=Object(o.connect)(W,{getCoins:ee})(x()(ge)),be=function(){return r.a.createElement(fe,null)},ve=n(64),Oe=n(233),Ce=n(230),ye=n.n(Ce),_e=function(e){if(!e.active)return null;var t=[{name:"Name",value:A()(e,"payload[0].payload.name")}].concat(Object(Oe.a)(e.payload));return r.a.createElement(ye.a,Object.assign({},e,{payload:t}))},we=function(e){var t=e.topCoins,n=e.getCoins,c=Object(p.b)().t,i=ve.b,o=ve.a,l=ve.d,u=ve.e,m=ve.f,s=ve.c;Object(a.useEffect)((function(){n()}),[n]);var d=t.coinsList;return r.a.createElement(oe.a,null,r.a.createElement(Ee,t,r.a.createElement(i,{width:1100,height:500,margin:{top:20,right:20,bottom:20,left:0}},r.a.createElement(l,{type:"number",dataKey:"quote.USD.market_cap",name:c("liquidityChart.xAxisName"),unit:"$",tick:!1,label:c("liquidityChart.xAxisName")}),r.a.createElement(u,{type:"number",dataKey:"quote.USD.volume_24h",name:c("liquidityChart.xAxisName"),unit:"$",label:c("liquidityChart.yAxisName"),tick:!1}),r.a.createElement(m,{type:"number",dataKey:"quote.USD.money_change_24h",name:c("liquidityChart.zAxis"),unit:"$",range:[60,400],scale:"sequential",label:c("liquidityChart.zAxis")}),r.a.createElement(s,{cursor:{strokeDasharray:"3 3"},content:r.a.createElement(_e,null)}),r.a.createElement(o,{data:d.data,fill:"#8884d8",shape:"circle"}))))},Se=Object(o.connect)(H,{getCoins:ee})(x()(we)),je=function(){return r.a.createElement(Se,null)},ke=function(){return r.a.createElement("div",null,"404")},Ne=n(231),Le=n(539),Ie=n(540),xe=n(541),Te=n(109),qe=n(498),Ue=Object(qe.a)((function(e){return{root:{marginBottom:e.spacing(3)},active:{backgroundColor:e.palette.primary.dark}}})),Ae=function(){var e=Ue(),t=Object(p.b)().t;return r.a.createElement(Le.a,{position:"static",className:e.root},r.a.createElement(Ie.a,null,r.a.createElement("div",null,r.a.createElement(xe.a,{component:Te.a,activeClassName:e.active,to:"/",color:"inherit",isActive:function(e){return e.isExact}},t("nav.home")),r.a.createElement(xe.a,{component:Te.a,activeClassName:e.active,to:"/liquidity",color:"inherit"},t("nav.liquidity")))))},De=Object(te.a)((function(e){return{root:Object(Ne.a)({},e.breakpoints.down("md"),{padding:"0"})}})),Re=function(){var e=De();return r.a.createElement(oe.a,{className:e.root},r.a.createElement(Ae,null))},Fe=n(546),Me=n(547),Xe=n(542),ze=n(545),Ge=Object(te.a)((function(e){return{root:{marginBottom:e.spacing(3)},formControl:{minWidth:200}}})),Je=function(e){var t=e.selectCoinsLimit,n=e.limit,a=Object(p.b)().t,c=Ge();return r.a.createElement(oe.a,{className:c.root},r.a.createElement(Xe.a,{className:c.formControl},r.a.createElement(Fe.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},a("coinAmount.selectLabel")),r.a.createElement(ze.a,{id:"demo-simple-select-placeholder-label",value:n,onChange:function(e){return t(e.target.value)},displayEmpty:!0},r.a.createElement(Me.a,{value:-1},r.a.createElement("em",null,a("coinAmount.default"))),v.map((function(e){return r.a.createElement(Me.a,{key:e,value:e},e)})),r.a.createElement(Me.a,{value:5e3},a("coinAmount.allCoinsLabel")))))},Pe=Object(o.connect)(K,{selectCoinsLimit:function(e){return function(t){t(function(e){return{type:"SELECT_COINS_LIMIT",limit:e}}(e)),t(Z(e))}}})(x()(Je)),Ve=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(Re,null),r.a.createElement(Pe,null),r.a.createElement(L.Switch,null,r.a.createElement(L.Route,{exact:!0,path:"/",component:be}),r.a.createElement(L.Route,{path:"/liquidity",component:je}),r.a.createElement(L.Route,{path:"*",component:ke})))};var Be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null),r.a.createElement(Ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=Object(u.a)({});i.a.render(r.a.createElement(o.Provider,{store:k},r.a.createElement(l.ConnectedRouter,{history:w},r.a.createElement(m.a,{theme:Ke},r.a.createElement(Be,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[267,1,2]]]);
//# sourceMappingURL=main.84a06158.chunk.js.map